# login-expiration

## Aplicação de login com token de expiração JWT

### Tecnologias utilizadas:

- [Java 11](https://www.oracle.com/br/java/technologies/javase/jdk11-archive-downloads.html)
- [Spring Boot](https://start.spring.io/)
- [Angular](https://angular.io/)
- [Maven](https://maven.apache.org/)
- [PostgreSQL](https://www.postgresql.org/)
- [Docker](https://www.docker.com/)

### Passos para configurar a aplicação:

### login-expiration-front

- Para rodar a aplicação execute: ```npm install``` e ```npm start```.

### login-expiration-back

#### Para rodar a aplicação siga as etapas:

- Instale o docker e crie um container para o banco de dados usando o seguinte comando: 
```docker run -p 5432:5432 -v /tmp/database:/var/lib/postgresql/data -e POSTGRES_PASSWORD=12345 -d postgres```.
Modifique a variável **POSTGRES_PASSWORD** com a senha que deseja usar para acessar o banco.

- Crie as tabelas necessárias:
```
    create table users (
        id bigint generated by default as identity primary key,
        password varchar(255) not null,
        username varchar(255) not null
        constraint users_pkey unique
    );

    create table user_roles (
        user_id bigint not null constraint fk_users references users,
        roles varchar(255)
    );
```
- Insira os dados necessários:

```
    INSERT INTO public.users (password, username) 
    VALUES ('$2a$10$owDWNlFcHgX0spXC8Tuh6O2H063Gx8nV4NVXk1zhDfW9wgnFg/ilq', 'joao');

    INSERT INTO public.user_roles (user_id, roles) 
    VALUES (1, 'admin');
```
- Para o exemplo acima foi utilizado um usuário com nome **joao** e senha **12345**.

- Configure a aplicação na IDE de sua preferência e 
execute a classe: **LoginExpirationApplication**.